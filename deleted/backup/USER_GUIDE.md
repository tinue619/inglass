# CRM Система - Руководство пользователя

## Описание системы

Эта CRM система предназначена для управления производственными процессами и заказами. Система поддерживает:

- **Управление пользователями** с различными уровнями доступа
- **Настройку производственных процессов** в нужном порядке
- **Создание изделий** с назначением необходимых процессов
- **Управление заказами** с отслеживанием их прохождения через процессы

## Основные принципы работы

### Роли пользователей

1. **Администратор** - полный доступ ко всем функциям:
   - Видит все процессы и заказы
   - Может перемещать заказы между процессами drag&drop
   - Управляет пользователями, процессами и изделиями

2. **Обычный пользователь** - ограниченный доступ:
   - Видит только процессы, к которым у него есть доступ
   - Может перемещать заказы только кнопками "Передать дальше" и "Брак/Возврат"
   - Может создавать заказы (если есть права)

### Структура данных

**Процессы** → **Изделия** → **Заказы**

1. Сначала создаются **процессы** (например: Прием заказа, Замер, Резка, Шлифовка, Упаковка)
2. Затем создаются **изделия** с указанием, через какие процессы они должны проходить
3. Для каждого **заказа** указывается тип изделия, и заказ автоматически проходит по процессам этого изделия

## Начальная настройка

### 1. Вход в систему
- По умолчанию создан администратор с паролем "1488"
- Выберите пользователя из списка и введите пароль

### 2. Создание процессов (только админ)
1. Зайдите в "Админ панель" → вкладка "Процессы"
2. Нажмите "Добавить процесс"
3. Введите название и порядок выполнения
4. Процессы можно перетаскивать для изменения порядка

### 3. Создание изделий (только админ)
1. Вкладка "Изделия" → "Добавить изделие"
2. Введите название и выберите процессы, через которые должно проходить изделие
3. Процессы будут выполняться в том порядке, в котором они были созданы

### 4. Создание пользователей (только админ)
1. Вкладка "Пользователи" → "Добавить пользователя"
2. Укажите имя, телефон, пароль
3. Выберите права:
   - "Может создавать заказы" - разрешает создание новых заказов
   - "Доступные процессы" - к каким процессам у пользователя есть доступ

## Работа с заказами

### Создание заказа
1. Нажмите "Добавить заказ" (доступно пользователям с соответствующими правами)
2. Заполните обязательные поля:
   - Номер заказа (должен быть уникальным)
   - Изделие (определяет маршрут процессов)
   - Имя клиента
   - Телефон клиента
3. При необходимости добавьте дополнительные поля
4. Заказ автоматически попадет на первый процесс выбранного изделия

### Перемещение заказов

**Для обычных пользователей:**
- "Передать дальше →" - переводит заказ на следующий процесс
- "← Брак/Возврат" - возвращает заказ на предыдущий процесс

**Для администратора:**
- Можно перетаскивать заказы между любыми процессами
- Система проверит, что процесс входит в маршрут изделия

### Ограничения системы
- Заказ может находиться только в тех процессах, которые указаны для его изделия
- Пользователь видит только заказы в процессах, к которым у него есть доступ
- Пользователь может перемещать заказы только из процессов, к которым у него есть доступ

## Демо-данные

Для быстрого старта можно создать демо-данные:
1. Админ панель → "Создать демо-данные"
2. Будут созданы:
   - Процессы: Прием заказа, Замер, Резка, Шлифовка, Упаковка, Доставка
   - Изделия: Стекло оконное, Зеркало, Стеклянная дверь
   - Пользователи: Менеджер, Мастер резки, Мастер шлифовки

## Резервное копирование

- **Экспорт данных** - сохраняет все данные в JSON файл
- **Импорт данных** - восстанавливает данные из JSON файла
- **Очистить все данные** - полная очистка системы (будьте осторожны!)

## Технические особенности

- Все данные сохраняются в браузере (localStorage)
- Информация о текущем пользователе хранится в сессии
- Система работает без подключения к интернету
- Совместима с современными браузерами

## Поддержка

При возникновении проблем:
1. Проверьте, что все обязательные поля заполнены
2. Убедитесь, что процессы созданы и назначены изделиям
3. Проверьте права доступа пользователя
4. При критических ошибках используйте функцию экспорта для сохранения данных