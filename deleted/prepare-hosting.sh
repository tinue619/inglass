#!/bin/bash

echo "ðŸš€ ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ð´ÐµÐ¿Ð»Ð¾ÑŽ Inglass CRM Ð½Ð° Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³..."
echo

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³Ð°
mkdir -p hosting-deploy
cd hosting-deploy

echo "ðŸ“ ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹..."

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ
cp -r ../js ./
cp -r ../css ./
cp -r ../assets ./
cp ../index.html ./

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€Ð½ÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ
mkdir -p server
cp ../server/server-hosting.js ./server/
cp ../server/package-hosting.json ./server/package.json
cp -r ../server/database ./server/

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ .gitignore
cat > .gitignore << EOF
node_modules/
*.log
.env
server/database/inglass.db
server/database/backup-*.json
EOF

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ README Ð´Ð»Ñ Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³Ð°
cat > README.md << 'EOF'
# Inglass CRM - Ð¥Ð¾ÑÑ‚Ð¸Ð½Ð³ Ð²ÐµÑ€ÑÐ¸Ñ

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð½Ð° Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³

1. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð²ÑÐµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð½Ð° Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³
2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸: `npm install`
3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐµÑ€Ð²ÐµÑ€: `npm start`

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ„Ð°Ð¹Ð»Ð¾Ð²

```
/
â”œâ”€â”€ index.html          # Ð“Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°
â”œâ”€â”€ js/                # ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¸Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹
â”œâ”€â”€ css/               # Ð¡Ñ‚Ð¸Ð»Ð¸
â”œâ”€â”€ assets/            # Ð ÐµÑÑƒÑ€ÑÑ‹
â””â”€â”€ server/            # Ð¡ÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ
    â”œâ”€â”€ server-hosting.js     # Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» ÑÐµÑ€Ð²ÐµÑ€Ð°
    â”œâ”€â”€ package.json          # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
    â””â”€â”€ database/             # Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… SQLite
```

## Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³Ð°

- Node.js 14+
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° SQLite
- Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð·Ð°Ð¿ÑƒÑÐºÐ° npm install
- ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¹ Ð¿Ð¾Ñ€Ñ‚ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ 3001 Ð¸Ð»Ð¸ PORT Ð¸Ð· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… ÑÑ€ÐµÐ´Ñ‹)

## ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ ÑÑ€ÐµÐ´Ñ‹

- `PORT` - Ð¿Ð¾Ñ€Ñ‚ ÑÐµÑ€Ð²ÐµÑ€Ð° (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ 3001)
- `NODE_ENV` - Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ (production/development)
- `CORS_ORIGIN` - Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð½Ñ‹Ðµ Ð´Ð¾Ð¼ÐµÐ½Ñ‹ Ð´Ð»Ñ CORS (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ *)

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ!
EOF

echo "âœ… Ð¤Ð°Ð¹Ð»Ñ‹ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ñ‹ Ð² Ð¿Ð°Ð¿ÐºÐµ hosting-deploy/"
echo "ðŸ“¦ Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð¿Ð°Ð¿ÐºÐ¸ hosting-deploy Ð½Ð° Ð²Ð°Ñˆ Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³"
echo "ðŸ”§ Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ 'npm install' Ð½Ð° Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³Ðµ"
echo "ðŸš€ Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ 'npm start' Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°"
echo
